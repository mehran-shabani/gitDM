# ฺฏุฒุงุฑุด ุชฺฉูู ููุงูุต ู ูพุดููุงุฏุงุช ุณุงูุงูู GitDM

## ุฎูุงุตู ุงุฌุฑุง

ุชูุงู ููุงูุต ุงุตู ุณุงูุงูู GitDM ุดูุงุณุง ู ุจุฑุทุฑู ุดุฏูโุงูุฏ. ุณุงูุงูู ุงฺฉููู ุขูุงุฏู ุงุณุชูุงุฏู ุฏุฑ ูุญุท ุชููุฏ ุงุณุช.

---

## ุณูุงุฑู ฺฉุงูู ุงูพูฺฉุดู

### ูุฏู ุงูพูฺฉุดู
GitDM (Git Diabetes Management) ฺฉ ุณุงูุงูู ุฌุงูุน ูุฏุฑุช ุฏุงุจุช ุงุณุช ฺฉู ุจู ูพุฒุดฺฉุงู ุงูฺฉุงู ุซุจุชุ ูพฺฏุฑ ู ุชุญูู ุฏุงุฏูโูุง ุจูุงุฑุงู ุฏุงุจุช ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุด ูุตููุน ูุฑุงูู ูโฺฉูุฏ.

### ูฺฺฏโูุง ุงุตู:
- **ูุฏุฑุช ุจูุงุฑุงู**: ุซุจุช ุงุทูุงุนุงุช ูพุงูุ ูพุฑููุงูโูุง ูพุฒุดฺฉ ู ุงุฑุชุจุงุท ุจูุงุฑ-ูพุฒุดฺฉ
- **ููุงุฌูุงุช ุจุงูู**: ุซุจุช ุฌูุณุงุช ูุฒุช ุจุง ุณุงุฎุชุงุฑ SOAP
- **ูุฏุฑุช ุขุฒูุงุดุงุช**: ุซุจุช ู ูพฺฏุฑ ูุชุงุฌ ุขุฒูุงุด ุจุง ุงุณุชุงูุฏุงุฑุฏ LOINC
- **ูุฏุฑุช ุฏุงุฑู**: ุซุจุช ูุณุฎูโูุง ุฏุงุฑู ุจุง ฺฉุฏฺฏุฐุงุฑ ATC
- **ูุฑุงุฌุน ุจุงูู**: ูุฌููุนู ููุงุจุน ุนูู ุจุฑุง ูพุดุชุจุงู ุงุฒ ุชุตููุงุช ุจุงูู
- **ุฎูุงุตูโุณุงุฒ ููุดููุฏ**: ุชููุฏ ุฎูุงุตูโูุง AI ุงุฒ ุฏุงุฏูโูุง ุจุงูู
- **ูุณุฎูโุจูุฏ**: ูพฺฏุฑ ุชุบุฑุงุช ู ุงูฺฉุงู ุจุงุฒฺฏุฑุฏุงู ุฏุงุฏูโูุง

### ุณูุงุฑู ุงุณุชูุงุฏู
ูพุฒุดฺฉ ูพุณ ุงุฒ ูุฑูุฏ ุจู ุณุงูุงููุ ุจูุงุฑุงู ุฎูุฏ ุฑุง ูุดุงูุฏู ฺฉุฑุฏู ู ูโุชูุงูุฏ:
1. ููุงุฌูู ุฌุฏุฏ ุซุจุช ฺฉูุฏ
2. ูุชุงุฌ ุขุฒูุงุด ุฑุง ูุงุฑุฏ ููุงุฏ  
3. ูุณุฎู ุฏุงุฑู ุชุฌูุฒ ฺฉูุฏ
4. ุชุงูโูุงู ฺฉุงูู ุงุฒ ุชุงุฑุฎฺู ุจูุงุฑ ูุดุงูุฏู ฺฉูุฏ
5. ุฎูุงุตู ููุดููุฏ ุงุฒ ูุถุนุช ุจูุงุฑ ุฏุฑุงูุช ฺฉูุฏ
6. ูุดุฏุงุฑูุง ุจุงูู ู ุงุทูุงุนโุฑุณุงูโูุง ุฏุฑุงูุช ฺฉูุฏ

---

## โ ููุงูุต ุจุฑุทุฑู ุดุฏู

### 1. ุณุณุชู Role-Based Access Control (RBAC) โ
**ูุถุนุช**: ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ุดุฏู

**ูพุงุฏูโุณุงุฒโูุง:**
- ุงุถุงูู ฺฉุฑุฏู ููุฏ `role` ุจู ูุฏู `DoctorProfile` ุจุง ุงููุงุน ููุดโูุง:
  - `GENERAL`: ูพุฒุดฺฉ ุนููู
  - `ENDOCRINOLOGIST`: ูุชุฎุตุต ุบุฏุฏ
  - `CARDIOLOGIST`: ูุชุฎุตุต ููุจ
  - `OPHTHALMOLOGIST`: ูุชุฎุตุต ฺุดู
  - `ADMIN`: ูุฏุฑ ุณุณุชู

- ุงุฌุงุฏ Permission Classes ุชุฎุตุต:
  - `IsDoctor`: ุงุทููุงู ุงุฒ ูพุฒุดฺฉ ุจูุฏู ฺฉุงุฑุจุฑ
  - `IsDoctorAdmin`: ุฏุณุชุฑุณ ุจุฑุง ุงุฏููโูุง
  - `IsEndocrinologist`: ุฏุณุชุฑุณ ุจุฑุง ูุชุฎุตุตุงู ุบุฏุฏ
  - `CanViewAllPatients`: ูุดุงูุฏู ุชูุงู ุจูุงุฑุงู (ุงุฏููโูุง)
  - `CanModifyTreatmentPlan`: ุชุบุฑ ุจุฑูุงูู ุฏุฑูุงู
  - `CanAccessEmergencyData`: ุฏุณุชุฑุณ ุงุถุทุฑุงุฑ
  - `IsPatientOwnerOrDoctor`: ุฏุณุชุฑุณ ุจู ุฑฺฉูุฑุฏ ุจูุงุฑ

### 2. ุณุณุชู Audit Logging โ
**ูุถุนุช**: ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ุดุฏู

**ูพุงุฏูโุณุงุฒโูุง:**
- ูุฏู `AuditLog` ุจุฑุง ุซุจุช ุชูุงู ูุนุงูุชโูุง ฺฉุงุฑุจุฑุงู
- ูุฏู `SecurityEvent` ุจุฑุง ุฑูุฏุงุฏูุง ุงููุช
- Middleware ูุง `AuditLoggingMiddleware` ู `SecurityMiddleware`
- ุซุจุช ุฎูุฏฺฉุงุฑ ุชูุงู ุนููุงุช CRUD
- ุซุจุช IPุ User-Agent ู ุฌุฒุฆุงุช ุฏุฑุฎูุงุณุช
- ุซุจุช ุชุบุฑุงุช ูุจู ู ุจุนุฏ (old_values, new_values)

### 3. Validation ูุง ุชุฎุตุต ูพุฒุดฺฉ โ
**ูุถุนุช**: ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ุดุฏู

**ูพุงุฏูโุณุงุฒโูุง:**
- `validate_national_id`: ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ ูู ุงุฑุงู
- `validate_medical_code`: ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ ูุธุงู ูพุฒุดฺฉ
- `validate_age_range`: ุจุฑุฑุณ ูุญุฏูุฏู ุณู ููุทู
- `validate_hba1c_value`: ุงุนุชุจุงุฑุณูุฌ HbA1c (4-18%)
- `validate_blood_glucose`: ุงุนุชุจุงุฑุณูุฌ ููุฏ ุฎูู (20-800 mg/dL)
- `validate_blood_pressure`: ุงุนุชุจุงุฑุณูุฌ ูุดุงุฑ ุฎูู
- `validate_medication_dose`: ุงุนุชุจุงุฑุณูุฌ ูุฑูุช ุฏูุฒ ุฏุงุฑู
- `validate_encounter_date`: ุงุนุชุจุงุฑุณูุฌ ุชุงุฑุฎ ููุงุฌูู

### 4. ุณุณุชู Notification ู ูุดุฏุงุฑูุง ุจุงูู โ
**ูุถุนุช**: ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ุดุฏู

**ูพุงุฏูโุณุงุฒโูุง:**
- ูุฏู `Notification` ุจุฑุง ุงุทูุงุนโุฑุณุงูโูุง ุนููู
- ูุฏู `ClinicalAlert` ุจุฑุง ูุดุฏุงุฑูุง ุจุงูู ุฎูุฏฺฉุงุฑ
- ุณุฑูุณ `NotificationService` ุจุฑุง ูุฏุฑุช ุงุทูุงุนโุฑุณุงูโูุง
- ุณุฑูุณ `ClinicalAlertService` ุจุฑุง ุชุดุฎุต ู ุงุฌุงุฏ ูุดุฏุงุฑูุง
- ูุดุฏุงุฑูุง ุฎูุฏฺฉุงุฑ ุจุฑุง:
  - HbA1c ุจุงูุง (>7% ู >9%)
  - ููุฏ ุฎูู ูพุงู (<70) ู ุจุงูุง (>200)
  - ุชุฏุงุฎู ุฏุงุฑู
- API endpoints ุจุฑุง ูุฏุฑุช notifications ู alerts
- Signals ุจุฑุง ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ ุงุทูุงุนโุฑุณุงูโูุง

---

## ๐ ูฺฺฏโูุง ุฌุฏุฏ ุงุถุงูู ุดุฏู

### 1. API ูุง ุฌุฏุฏ:
- `GET /api/notifications/` - ูุณุช ุงุทูุงุนโุฑุณุงูโูุง
- `POST /api/notifications/{id}/mark_read/` - ุนูุงูุชโฺฏุฐุงุฑ ุฎูุงูุฏู ุดุฏู
- `GET /api/notifications/unread_count/` - ุชุนุฏุงุฏ ุฎูุงูุฏู ูุดุฏูโูุง
- `GET /api/alerts/` - ูุณุช ูุดุฏุงุฑูุง ุจุงูู
- `POST /api/alerts/{id}/acknowledge/` - ุชุงุฏ ูุดุฏุงุฑ
- `GET /api/alerts/active_count/` - ุชุนุฏุงุฏ ูุดุฏุงุฑูุง ูุนุงู

### 2. Admin Interface ุจูุจูุฏ ุงูุชู:
- ูพูู ูุฏุฑุช ฺฉุงูู ุจุฑุง AuditLog ู SecurityEvent
- ูพูู ูุฏุฑุช Notifications ู ClinicalAlerts
- ููุชุฑ ู ุฌุณุชุฌู ูพุดุฑูุชู

### 3. ุงููุช ูพุดุฑูุชู:
- ุซุจุช ุฎูุฏฺฉุงุฑ ุชูุงุดโูุง ูุฑูุฏ ูุงูููู
- ุชุดุฎุต ูุนุงูุชโูุง ูุดฺฉูฺฉ
- ูุญุฏูุฏุช ุฏุณุชุฑุณ ุจุฑ ุงุณุงุณ ููุด

---

## ูพุดููุงุฏุงุช ุจุฑุง ุชูุณุนู ุขูุฏู

### 1. ุณุณุชู ุงุฏุขูุฑ ููุดููุฏ
**ุณูุงุฑู**: ุงุฏุขูุฑูุง ุดุฎุตโุณุงุฒ ุดุฏู ุจุฑุง ูุตุฑู ุฏุงุฑูุ ุงูุฌุงู ุขุฒูุงุด ู ูุฒุช ุจุฑ ุงุณุงุณ ุงูฺฏููุง ุฑูุชุงุฑ ุจูุงุฑ.

### 2. ุชุดุฎุต ุงูฺฏููุง ุบุฑุทุจุน โ
**ุณูุงุฑู**: ุชุญูู ุฏุงุฏูโูุง ุชุงุฑุฎ ุจุฑุง ุดูุงุณุง ุงูฺฏููุง ุบุฑุนุงุฏ ู ูุดุฏุงุฑ ุฒูุฏููฺฏุงู.

**ูุถุนุช**: ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ุดุฏู

**ูพุงุฏูโุณุงุฒโูุง:**

#### ูุฏูโูุง ุฏุงุฏู:
- `BaselineMetrics`: ุฐุฎุฑู ูุนุงุฑูุง ูพุงู ูุฑ ุจูุงุฑ (ูุงูฺฏู ู ุงูุญุฑุงู ูุนุงุฑ)
  - ูุนุงุฑูุง ุขุฒูุงุดฺฏุงู: HbA1cุ ููุฏ ุฎููุ ูุดุงุฑ ุฎูู
  - ุงูฺฏููุง ุฑูุชุงุฑ: ูุฑุงูุงู ูุฒุชุ ุขุฒูุงุดุ ูพุงุจูุฏ ุฏุงุฑู
  
- `PatternAnalysis`: ูุชุงุฌ ุชุญูู ุงูฺฏููุง ุฑูุชุงุฑ
  - ุงููุงุน ุงูฺฏู: ุฑููุฏ ููุฏ ุฎููุ HbA1cุ ูุดุงุฑ ุฎููุ ูพุงุจูุฏ ุฏุงุฑู
  - ุฌูุช ุฑููุฏ: ุจูุจูุฏุ ูพุงุฏุงุฑุ ุจุฏุชุฑ ุดุฏูุ ููุณุงู
  - ูุชุงุฌ ุขูุงุฑ: ุถุฑุจ ุงุทููุงูุ ูุนูุงุฏุงุฑ ุขูุงุฑ
  
- `AnomalyDetection`: ูุงููุฌุงุฑโูุง ุชุดุฎุต ุฏุงุฏู ุดุฏู
  - ุงููุงุน ูุงููุฌุงุฑ: ููุทู ูพุฑุช ุขูุงุฑุ ุชุบุฑ ูุงฺฏูุงูุ ูุนฺฉูุณ ุดุฏู ุฑููุฏ
  - ุณุทูุญ ุดุฏุช: ฺฉูุ ูุชูุณุทุ ุจุงูุงุ ุจุญุฑุงู
  - ุงูฺฉุงู ุชุงุฏ ุชูุณุท ูพุฒุดฺฉ
  
- `PatternAlert`: ูุดุฏุงุฑูุง ูุจุชู ุจุฑ ุงูฺฏู
  - ุงููุงุน ูุดุฏุงุฑ: ุจุฏุชุฑ ุดุฏู ฺฉูุชุฑูุ ุนุฏู ูพุงุจูุฏ ุฏุงุฑูุ ุนุฏู ุญุถูุฑ ุฏุฑ ูุฒุช
  - ุงูููุชโุจูุฏ: ฺฉูุ ูุชูุณุทุ ุจุงูุงุ ููุฑ
  - ุงูฺฉุงู ุญู ฺฉุฑุฏู ู ุซุจุช ุงุฏุฏุงุดุช

#### ุณุฑูุณโูุง ุชุญูู:
- `BaselineCalculationService`: ูุญุงุณุจู ูุนุงุฑูุง ูพุงู ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ุชุงุฑุฎ
- `AnomalyDetectionService`: ุชุดุฎุต ูุงููุฌุงุฑ ุจุง ุงูฺฏูุฑุชูโูุง ุขูุงุฑ
  - Z-Score Analysis ุจุฑุง ุชุดุฎุต ููุงุท ูพุฑุช
  - ุชุญูู ุชุบุฑุงุช ูุงฺฏูุงู (ุจุด ุงุฒ 25% ุชุบุฑ)
  - ุขุณุชุงููโูุง ูุงุจู ุชูุธู ุจุฑุง ุณุทูุญ ูุฎุชูู ุดุฏุช
- `PatternAnalysisService`: ุชุญูู ุงูฺฏููุง ุฒูุงู
  - ุฑฺฏุฑุณูู ุฎุท ุจุฑุง ุชุญูู ุฑููุฏ
  - ุชุญูู ูพุงุจูุฏ ุฏุงุฑู
  - ูุญุงุณุจู ุถุฑุจ ุงุทููุงู
- `PatternAlertService`: ุงุฌุงุฏ ูุดุฏุงุฑูุง ููุดููุฏ

#### API Endpoints ุฌุฏุฏ:
- `GET/POST /api/pattern-analyses/` - ูุฏุฑุช ุชุญูู ุงูฺฏููุง
- `POST /api/pattern-analyses/analyze/` - ุฏุฑุฎูุงุณุช ุชุญูู ุฌุฏุฏ
- `GET /api/anomaly-detections/` - ูุณุช ูุงููุฌุงุฑโูุง
- `POST /api/anomaly-detections/{id}/acknowledge/` - ุชุงุฏ ูุงููุฌุงุฑ
- `GET /api/pattern-alerts/` - ูุณุช ูุดุฏุงุฑูุง ุงูฺฏู
- `POST /api/pattern-alerts/{id}/resolve/` - ุญู ูุดุฏุงุฑ
- `GET/POST /api/baseline-metrics/` - ูุฏุฑุช ูุนุงุฑูุง ูพุงู
- `POST /api/baseline-metrics/calculate/` - ูุญุงุณุจู ูุนุงุฑูุง ูพุงู

#### ุชุณฺฉโูุง ูพุณโุฒููู:
- `run_pattern_analysis_for_patient`: ุชุญูู ุงูฺฏููุง ฺฉ ุจูุงุฑ
- `run_anomaly_detection_for_new_lab`: ุชุดุฎุต ูุงููุฌุงุฑ ุจุฑุง ุขุฒูุงุด ุฌุฏุฏ
- `run_daily_pattern_analysis`: ุชุญูู ุฑูุฒุงูู ุชูุงู ุจูุงุฑุงู ูุนุงู

#### Signals ุฎูุฏฺฉุงุฑ:
- ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุงููุฌุงุฑ ููฺฏุงู ุซุจุช ูุชุฌู ุขุฒูุงุด ุฌุฏุฏ
- ุชุญูู ุฎูุฏฺฉุงุฑ ุงูฺฏููุง ูพุงุจูุฏ ููฺฏุงู ุซุจุช ููุงุฌูู ุฌุฏุฏ

#### ูฺฺฏโูุง ฺฉูุฏ:
- **ุชุดุฎุต Real-time**: ูุงููุฌุงุฑโูุง ุจูุงูุงุตูู ูพุณ ุงุฒ ูุฑูุฏ ุฏุงุฏู ุดูุงุณุง ูโุดููุฏ
- **ูุดุฏุงุฑูุง ููุดููุฏ**: ุงูููุชโุจูุฏ ุฎูุฏฺฉุงุฑ ุจุฑ ุงุณุงุณ ุดุฏุช ู ููุน ูุดฺฉู
- **ุชุญูู ุฑููุฏ**: ุดูุงุณุง ุงูฺฏููุง ุจูุจูุฏ ุง ุจุฏุชุฑ ุดุฏู ูุถุนุช ุจูุงุฑ
- **ูพูู ูุฏุฑุช**: ุฑุงุจุท ฺฏุฑุงูฺฉ ฺฉุงูู ุจุฑุง ูุดุงูุฏู ู ูุฏุฑุช ูุดุฏุงุฑูุง
- **API ุฌุงูุน**: ุฏุณุชุฑุณ ฺฉุงูู ุจู ุชูุงู ูุงุจูุชโูุง ุงุฒ ุทุฑู REST API

**ููููู ุงุณุชูุงุฏู:**
```bash
# ุชุญูู ุงูฺฏู ููุฏ ุฎูู ุจุฑุง ุจูุงุฑ
curl -X POST /api/pattern-analyses/analyze/ \
  -H "Authorization: Bearer <TOKEN>" \
  -d '{"patient_id": 123, "pattern_types": ["GLUCOSE_TREND"], "months_back": 6}'

# ุฏุฑุงูุช ูุงููุฌุงุฑโูุง ุชุงุฏ ูุดุฏู
curl -X GET "/api/anomaly-detections/?acknowledged=false&severity=HIGH" \
  -H "Authorization: Bearer <TOKEN>"

# ุชุงุฏ ูุงููุฌุงุฑ
curl -X POST /api/anomaly-detections/456/acknowledge/ \
  -H "Authorization: Bearer <TOKEN>" \
  -d '{"notes": "ุจุฑุฑุณ ุดุฏ ู ุทุจุน ุงุณุช"}'
```

### 3. ุฏุงุดุจูุฑุฏ ุชุญูู ูพุดุฑูุชู
**ุณูุงุฑู**: ูููุฏุงุฑูุง ุชุนุงููุ ุขูุงุฑ ูพุดุฑูุชู ู ฺฏุฒุงุฑุดโฺฏุฑ ุฎูุฏฺฉุงุฑ.

### 4. ุงูุชฺฏุฑุงุณูู ุจุง ุฏุณุชฺฏุงูโูุง IoT
**ุณูุงุฑู**: ุฏุฑุงูุช ุฎูุฏฺฉุงุฑ ุฏุงุฏูโูุง ุงุฒ ฺฏููฺฉููุชุฑูุง ู ุณุงุฑ ุฏุณุชฺฏุงูโูุง ูุงูุชูุฑูฺฏ.

---

## ูุชุฌูโฺฏุฑ

โ **ุชูุงู ููุงูุต ุงุตู ุจุฑุทุฑู ุดุฏูโุงูุฏ:**
- Role-Based Access Control ูพุงุฏูโุณุงุฒ ุดุฏ
- Audit Logging ฺฉุงูู ุงุถุงูู ุดุฏ  
- Validation ูุง ุชุฎุตุต ูพุฒุดฺฉ ูพุงุฏูโุณุงุฒ ุดุฏ
- ุณุณุชู Notification ู ูุดุฏุงุฑูุง ุจุงูู ุงุถุงูู ุดุฏ
- **ุณุณุชู ุชุดุฎุต ุงูฺฏููุง ุบุฑุทุจุน ูพุงุฏูโุณุงุฒ ุดุฏ** โจ

๐ **ุณุงูุงูู GitDM ุงฺฉููู:**
- ุงุฒ ูุธุฑ ุงููุช ฺฉุงููุงู ูุญุงูุธุช ุดุฏู ุงุณุช
- ุชูุงู ูุนุงูุชโูุง ฺฉุงุฑุจุฑุงู ุฑุง ุซุจุช ูโฺฉูุฏ
- ุฏุงุฏูโูุง ูพุฒุดฺฉ ุฑุง ุจุง ุงุณุชุงูุฏุงุฑุฏูุง ุจุงูุง ุงุนุชุจุงุฑุณูุฌ ูโฺฉูุฏ
- ูุดุฏุงุฑูุง ุจุงูู ุฎูุฏฺฉุงุฑ ุงุฑุงุฆู ูโุฏูุฏ
- **ุงูฺฏููุง ุบุฑุทุจุน ุฑุง ุจู ุตูุฑุช ููุดููุฏ ุชุดุฎุต ูโุฏูุฏ** ๐
- **ูุดุฏุงุฑูุง ุฒูุฏููฺฏุงู ุจุฑุง ุชุบุฑุงุช ุฎุทุฑูุงฺฉ ุงุฑุงุฆู ูโุฏูุฏ** โ๏ธ
- **ุชุญููโูุง ุขูุงุฑ ูพุดุฑูุชู ุจุฑุง ุจูุจูุฏ ูุฑุงูุจุช ุงุฑุงุฆู ูโุฏูุฏ** ๐
- ุขูุงุฏู ุงุณุชูุงุฏู ุฏุฑ ูุญุท ุชููุฏ ุงุณุช

ุณุงูุงูู ุจู ฺฉ ุงุจุฒุงุฑ ุญุฑููโุง ู ุฌุงูุน ุจุฑุง ูุฏุฑุช ุฏุงุจุช ุชุจุฏู ุดุฏู ู ูโุชูุงูุฏ ุจู ุฑุงุญุช ุฏุฑ ุจูุงุฑุณุชุงูโูุง ู ฺฉููฺฉโูุง ุชุฎุตุต ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑุฏ.